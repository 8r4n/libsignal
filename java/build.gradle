subprojects {
    ext.version_number     = "2.8.1"
    ext.group_info         = "org.whispersystems"

    if (JavaVersion.current().isJava8Compatible()) {
        allprojects {
            tasks.withType(Javadoc) {
                options.addStringOption('Xdoclint:none', '-quiet')
            }
        }
    }
}

task makeAndroid(type:Exec) {
  group 'Rust'
  description 'Build the android libraries'

  commandLine 'make', 'android_libs'
}

task makeDesktop(type:Exec) {
  group 'Rust'
  description 'Build the desktop libraries'

  commandLine 'make', 'desktop_libs'
}

task makeAll() {
  group 'Rust'
  description 'Build the native libraries'

  dependsOn 'makeDesktop', 'makeAndroid'
}
